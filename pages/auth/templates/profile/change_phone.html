{% extends 'layout.html' %}
{% from 'bootstrap4/form.html' import render_form %}
{% block styles %}
	<style>

	</style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/16.0.4/css/intlTelInput.css">

{% endblock %}
{% block content %}
<div class=" container my-5">
	<h3>Change the phonenumber</h3>
    {{ render_form(form) }}
</div>
{% endblock %}
{% block scripts %}
	
	<script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/16.0.4/js/intlTelInput.min.js"></script>
	<script>
		var wtf_phone_field = document.getElementById('phone');
		wtf_phone_field.style.position = 'absolute';
		wtf_phone_field.style.top = '-9999px';
		wtf_phone_field.style.left = '-9999px';
		wtf_phone_field.style.display = 'none';
		wtf_phone_field.parentElement.insertAdjacentHTML('beforeend', '<div><input type="tel" class=" form-control form-control-lg" id="_phone"></div>');
		var fancy_phone_field = document.getElementById('_phone');
		var fancy_phone_iti = window.intlTelInput(fancy_phone_field, {
			separateDialCode: true,
			preferredCountries:["ng"],
			utilsScript: "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/16.0.4/js/utils.js",
		});
		fancy_phone_iti.setNumber(wtf_phone_field.value);
		fancy_phone_field.addEventListener('blur', function() {
			wtf_phone_field.value = fancy_phone_iti.getNumber();
		});

    </script>
{% endblock %}